<html ng-app="politiko">

<head>

<link rel="stylesheet/less" type="text/css" href="style.less">
<link rel="stylesheet/less" type="text/css" href="components/bootstrap/less/bootstrap.less">

<script src="components/angular/angular.min.js"></script>
<script type="text/javascript" src="components/less.js/dist/less-1.3.3.min.js"></script>
<script src="data.js"></script>
<script src="politiko.js"></script>

</head>

<body ng-controller="Politiko">

	<div class="navbar navbar-inverse navbar-static-top politiko">
		<div class="navbar-inner">
			<a class="brand" href="#"><strong>Politi-<span class="highlight">ko</span></strong></a>
			<ul class="nav divided">
				<li ng-class="{active: (view == 'quiz')}">
					<a href="#" ng-click="setView('quiz')">Quiz</a>
					<!-- <label class="radio inline">
						<input type="radio" ng-model="view" value="quiz">Quiz
					</label> -->
				</li>
				<li ng-class="{active: (view == 'table')}">
					<a href="#" ng-click="setView('table')">Table</a>
					<!-- <label class="radio inline">
						<input type="radio" ng-model="view" value="table">Table
					</label> -->
				</li>
				<li>
					<a href="http://frohawk.ph/about">About</a>
				</li>
			</ul>
		</div>
	</div>

	<div class="container-fluid">

		<div ng-switch on="view">

		  <div ng-switch-when="quiz" class="row-fluid">

				<form class="span3 inline">

					<div ng-repeat="issue in issues" class="issue" ng-class="{current: issue == curIssue}">
						<a href="#" ng-click="setCurIssue(issue)">{{issue.name}}</a>
						<hr/>
					</div>

				</form>

				<div class="span6">

					<h3>
						{{curIssue.name}}
					</h3>

					<label class="radio inline"><input type="radio" ng-model="curIssue.weight" ng-click="nextIssue()" value="-2">Strongly against</input></label>
					<label class="radio inline"><input type="radio" ng-model="curIssue.weight" ng-click="nextIssue()" value="-1">Against</input></label>
					<label class="radio inline"><input type="radio" ng-model="curIssue.weight" ng-click="nextIssue()" value="0">Don't care / No stance</input></label>
					<label class="radio inline"><input type="radio" ng-model="curIssue.weight" ng-click="nextIssue()" value="1">For</input></label>
					<label class="radio inline"><input type="radio" ng-model="curIssue.weight" ng-click="nextIssue()" value="2">Strongly for</input></label>

				</div>

				<div class="span3">

					<table class="table table-striped table-bordered table-condensed">
						<thead>
							<tr>
								<th>Name</th>
								<th>Score</th>
								<th>Breakdown</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="cand in cands | orderBy : candOrder" ng-mouseover="setCand(cand)">
								<td>{{cand}}</td>
								<td>{{score(cand)}}</td>
								<td rowspan="{{breakdown(curCand).length}}" ng-show="cand == curCand">
									<div ng-repeat="bd in breakdown(curCand)">
										<span class="badge badge-inverse">{{absWeight(bd)}}</span> {{bd.name}}
									</div>
								</td>
							</tr>
						</tbody>
					</table>

				</div>

			</div>

			<div ng-switch-when="table">

				<table cellpadding="20">

					<tr>
						<th>Candidate</th>
						<th ng-repeat="issue in issues">{{issue.name}}</th>
					</tr>

					<tr ng-repeat="cand in cands">
						<th>{{cand}}</th>
						<td ng-repeat="issue in issues" ng-class="getStance(cand, issue)">
							{{getStance(cand, issue)}}
						</td>
					</tr>

				</table>

			</div>

		</div>
	</div>

</body>

</html>